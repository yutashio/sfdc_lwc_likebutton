# Lightning Web ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(LWC)ã§ã„ã„ã­ï¼ãƒœã‚¿ãƒ³ã‚’ä½œæˆã—ã¦ã¿ãŸã€‚  
* ä»–ã®äººãŒä½œæˆã—ãŸãƒ¬ã‚³ãƒ¼ãƒ‰ã«ã€ŒğŸ‘ã„ã„ã­ï¼ã€ã§ãã‚Œã°ã„ã„ãªãƒ¼ã¨æ€ã„ã€ä»Šå›LWCã§ã„ã„ã­ï¼ãƒœã‚¿ãƒ³ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ãŸï¼  
* å…¥åŠ›ã—ãŸãƒ‡ãƒ¼ã‚¿ã«ã€Œã„ã„ã­ï¼ã€ãŒã•ã‚Œã‚‹ã¨ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¸ŠãŒã‚Šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ã®ä¿ƒé€²ã«ãªã‚‹ã‹ã‚‚ï¼ï¼ŸğŸ“  

# ã‚¤ãƒ¡ãƒ¼ã‚¸  
![ç”»é¢ã‚¤ãƒ¡ãƒ¼ã‚¸](/docs/screen_image.png)  
| ã„ã„ã­ï¼ãªã—ï¼ˆ0ä»¶ï¼‰ | ã„ã„ã­ï¼ã‚ã‚Šï¼ˆ1ä»¶ï¼‰|  
| --- | --- |  
| ![ã„ã„ã­ï¼ãªã—ï¼ˆ0ä»¶ï¼‰](/docs/no_like.png) | ![ã„ã„ã­ï¼ã‚ã‚Šï¼ˆ1ä»¶ï¼‰](/docs/one_like.png) |  

| è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã„ã„ã­ï¼ã‚’æŠ¼ã—ãŸæ™‚ã®ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º | ã‚¢ã‚¤ã‚³ãƒ³ã®è¡¨ç¤ºä»¶æ•°ã‚’åˆ¶é™ï¼ˆç”»åƒã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã¦3ä»¶ã«åˆ¶é™ï¼‰ |  
| --- | --- |  
| ![è¤‡æ•°ã„ã„ã­ï¼](/docs/multiple_likes.png) | ![ã‚¢ã‚¤ã‚³ãƒ³ã®è¡¨ç¤ºåˆ¶é™](/docs/icon_display_restrictions.png) |  

# æº–å‚™ã¨å‰ææ¡ä»¶  
## ã‚«ã‚¹ã‚¿ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
| è¡¨ç¤ºãƒ©ãƒ™ãƒ« | API å‚ç…§å |  
| --- | --- |  
| ã„ã„ã­ | Like__c |  

## é …ç›®ä½œæˆ
| è¡¨ç¤ºãƒ©ãƒ™ãƒ« | API å‚ç…§å | ãƒ‡ãƒ¼ã‚¿å‹ | æ•°å¼ |  
| --- | --- | --- | --- |  
| ã„ã„ã­å | `Name` | è‡ªå‹•æ¡ç•ª | - |  
| User | `User_Id__c` | å‚ç…§é–¢ä¿‚(ãƒ¦ãƒ¼ã‚¶ãƒ¼) | - |  
| Target_Id_String | `Target_Id_String__c` | ãƒ†ã‚­ã‚¹ãƒˆ(255) | - |  
| Target_Record_Url | `Target_Record_Url__c` | æ•°å¼ (ãƒ†ã‚­ã‚¹ãƒˆ) | HYPERLINK(LEFT($Api.Partner_Server_URL_350 ,FIND("/services/Soap/", $Api.Partner_Server_URL_350))& Target_Id_String__c, "ãƒ¬ã‚³ãƒ¼ãƒ‰ã¸é·ç§»") |  

## ã„ã„ã­ï¼ãƒœã‚¿ãƒ³ï¼ˆlikebuttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ã®é…ç½®  
é…ç½®æ‰‹é †ã¯ä¸‹è¨˜2ã¤  
* Lightning ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ€ãƒ¼  
  * è¨­å®š â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ â†’ Lightning ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ€ãƒ¼  
    * é…ç½®ã—ãŸã„ãƒ¬ã‚³ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã‚’ç·¨é›†ã—ã¦likebuttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãŠå¥½ã¿ã®å ´æ‰€ã«é…ç½®ã€‚  
* é…ç½®ã—ãŸã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã€ŒLightning ãƒ¬ã‚³ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã€  
  * è¨­å®š â†’ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ â†’ é…ç½®ã—ãŸã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé¸æŠ â†’ Lightning ãƒ¬ã‚³ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸  
    * å¯¾è±¡ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã‚’ç·¨é›†ã—ã¦likebuttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãŠå¥½ã¿ã®å ´æ‰€ã«é…ç½®ã€‚  

â€»ä¸‹è¨˜ç”»åƒã¯ã€**å–å¼•å…ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**ã®Lightning ãƒ¬ã‚³ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã®ç”»é¢å³å´ã«likebuttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é…ç½®ã—ã¦ã„ã¾ã™ã€‚  
![ã‚¤ãƒ¡ãƒ¼ã‚¸](/docs/lightning_application_builder.png)  

# æ©Ÿèƒ½ã¨ç‰¹å¾´  
## ã„ã„ã­ï¼ãƒœã‚¿ãƒ³ï¼ˆlikebuttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
* ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€ãƒ¬ã‚³ãƒ¼ãƒ‰ã”ã¨ã«ã€Œã„ã„ã­ï¼ã€ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚  
  * ã„ã„ã­ï¼ã‚’æŠ¼ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä»¶æ•°ã¨ã‚¢ã‚¤ã‚³ãƒ³ãŒãƒœã‚¿ãƒ³ä¸‹éƒ¨ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚  
* ã€Œã„ã„ã­ï¼ã€ãƒœã‚¿ãƒ³æŠ¼ä¸‹å¾Œã¯ã€ã€Œã„ã„ã­ï¼æ¸ˆã¿ã€ãƒœã‚¿ãƒ³ã«åˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚  
  * ã€Œã„ã„ã­ï¼æ¸ˆã¿ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ä¸‹ã™ã‚‹ã¨ã€ã„ã„ã­ã‚’å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ãã€ãƒœã‚¿ãƒ³ã¯å†åº¦ã€Œã„ã„ã­ï¼ã€ã«åˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚  
* ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã®ä»¶æ•°ã®åˆ¶é™ã‚’ã—ã¦ã„ã¾ã™ã€‚  
  * ã‚¢ã‚¤ã‚³ãƒ³ã®è¡¨ç¤ºä»¶æ•°ãŒå¤šã„ã¨ç”»é¢ã‚’å é ˜ã—ã¦ã—ã¾ã†ãŸã‚ã€‚  
  * åˆæœŸè¨­å®šã¯ã€**10ä»¶**ã«ã—ã¦ã„ã¾ã™ã€‚  
> [!NOTE]
> ä¸‹è¨˜Apexã‚¯ãƒ©ã‚¹ã§ã‚¢ã‚¤ã‚³ãƒ³ã®è¡¨ç¤ºä»¶æ•°ã‚’åˆ¶å¾¡ã—ã¦ã„ã¾ã™ã€‚  
> â€»ä»¶æ•°ã‚’å¤‰æ›´ã—ãŸã„å ´åˆã¯ã€æ•°å­—ã‚’å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚  
> â– *LikeButtonController.clsã®7è¡Œç›®*  
> ```
> private static Integer MAX_DISPLAY_ICON = 10;
> ```

## ã„ã„ã­ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ»ã„ã„ã­ãƒ¬ã‚³ãƒ¼ãƒ‰
![ã‚¤ãƒ¡ãƒ¼ã‚¸](/docs/like_record.png)  
* ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã„ã„ã­ï¼ã€ã‚’ã™ã‚‹ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã‚ˆã‚Šã€ä¸Šè¨˜ç”»åƒã®ã‚ˆã†ã«ã„ã„ã­ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒä½œæˆã•ã‚Œã¾ã™ã€‚  
  * ã„ã„ã­åï¼š`Name`  
    * è‡ªå‹•æ¡ç•ªå‹ã®ãŸã‚è‡ªå‹•ã§è¨­å®šã•ã‚Œã¾ã™ã€‚  
  * Userï¼š`User_Id__c`  
    * ã„ã„ã­ï¼ã‚’æŠ¼ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®IDï¼ˆå‚ç…§é …ç›®ï¼‰ãŒè¨­å®šã•ã‚Œã¾ã™ã€‚  
  * Target_Id_Stringï¼š`Target_Id_String__c`  
    * ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã„ã„ã­ï¼ã‚’æŠ¼ã—ãŸãƒ¬ã‚³ãƒ¼ãƒ‰ã®IDï¼ˆãƒ†ã‚­ã‚¹ãƒˆé …ç›®ï¼‰ãŒè¨­å®šã•ã‚Œã¾ã™ã€‚  
  * Target_Record_Urlï¼š`Target_Record_Url__c`  
    * ã„ã„ã­ï¼ã‚’æŠ¼ã—ãŸãƒ¬ã‚³ãƒ¼ãƒ‰ã®IDã‚’ãƒ†ã‚­ã‚¹ãƒˆã§ä¿æŒã—ã¦ã„ã‚‹ãŸã‚ã€å¯¾è±¡ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã¸é·ç§»ã™ã‚‹ãŸã‚ã®ãƒªãƒ³ã‚¯ã‚’ä¾¿åˆ©æ©Ÿèƒ½ã¨ã—ã¦æ•°å¼ã§ä½œæˆã—ã¦ã„ã¾ã™ã€‚  
* ã„ã„ã­ï¼ã®å–ã‚Šæ¶ˆã—åŠã³ã€Œã„ã„ã­ï¼æ¸ˆã¿ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ä¸‹ã™ã‚‹ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã‚ˆã‚Šã€ã„ã„ã­ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒå‰Šé™¤ã•ã‚Œã¾ã™ã€‚  

> [!NOTE]  
> â—Target_Id_Stringï¼š`Target_Id_String__c`  
> ã„ã„ã­ï¼ãƒœã‚¿ãƒ³ï¼ˆlikebuttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ãŒã€ã©ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¬ã‚³ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã«é…ç½®ã•ã‚Œã¦ã‚‚è‰¯ã„ã‚ˆã†ã«ã€  
> ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é …ç›®ã§ã¯ãªãã€ãƒ†ã‚­ã‚¹ãƒˆé …ç›®ã§ãƒ¬ã‚³ãƒ¼ãƒ‰IDã‚’ä¿æŒã—ã¦ã„ã¾ã™ã€‚  

> [!CAUTION]
>  **ã„ã„ã­ï¼ã•ã‚Œã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰ã¯å®¹æ˜“ã«å‰Šé™¤ã•ã‚Œã‚‹ã“ã¨ã¯ãªã„ã ã‚ã†**ã¨ã„ã†è€ƒãˆã®ãŸã‚ã€ä»Šå›ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆãƒ†ã‚­ã‚¹ãƒˆé …ç›®ã§ãƒ¬ã‚³ãƒ¼ãƒ‰IDã‚’ä¿æŒï¼‰ã«ã—ã¦ã„ã¾ã™ï¼  
> ä¸‡ãŒä¸€ã€ã„ã„ã­ï¼ã‚’æŠ¼ã—ãŸãƒ¬ã‚³ãƒ¼ãƒ‰è‡ªä½“ãŒå‰Šé™¤ã•ã‚ŒãŸå ´åˆã€ã„ã„ã­ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒå®™ã¶ã‚‰ã‚Šã‚“ã®çŠ¶æ…‹ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ğŸ˜¥  
> â€»ä¸Šè¨˜ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã€ä»Šå›ç”¨æ„ã§ãã¦ãŠã‚Šã¾ã›ã‚“ğŸ™‡â€â™‚ï¸  
> ã€€å¿…è¦ãªå ´åˆã¯ã€ä½œæˆã‚’ãŠé¡˜ã„è‡´ã—ã¾ã™ğŸ™‡â€â™‚ï¸  


# ERå›³
![ERå›³](/docs/er_diagram.png)  

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
```
force-app
    â””â”€main
        â””â”€default
            â”œâ”€classes
            â”‚      LikeButtonController.cls
            â”‚      LikeButtonController.cls-meta.xml
            â”‚      LikeButtonControllerTest.cls
            â”‚      LikeButtonControllerTest.cls-meta.xml
            â”‚
            â””â”€lwc
                â””â”€likeButton
                        likeButton.html
                        likeButton.js
                        likeButton.js-meta.xml
```